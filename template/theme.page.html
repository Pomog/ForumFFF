{{template "body" .}}

{{define "style"}}
    <style>

    .logo_img{

      max-width: 3%;
      max-height: auto;
    }

    .ava_img{

      max-width: 50px;

      max-height: auto;
    }
    .navbar-brand{
      font-family: 'MedievalSharp', cursive;
      font-size: 3em;
    }
    .underTable{
      background-color: #232427;
    }
    #navbarTop {
      height: 6em;
    }

    .whiteLink{
      color: rgb(225, 225, 225);
    }
    .forumTable{
      width: 100%;
    }

    .forumFirstColTheme{

      width: 15%;
    }

    td {
        padding: 10px; /* Adjust the value as needed */
      }
      th {
        padding: 10px; /* Adjust the value as needed */
      }

    .custom-container{
      max-width: 1800px;
    }
    .containerHead {
      background-color: rgb(24, 22, 33)

    }
    .navBar{
      background-color: rgb(24, 22, 33)
    }
    .containerBody {
      background: linear-gradient(to bottom, rgb(36, 33, 49), rgb(24, 22, 33));
      margin-top: 0;
    }

    .main-footer {
      /* position: fixed; */
      bottom: 0;
      margin-left: 0;
      width: 100%;
      height: 5em;
        padding: 3em;
        background-color: rgb(2, 0, 7);
        margin-top: 2em;
        color: aliceblue;
      }

      #form-search{
        margin-right: 5em;
      }
      .login_and_register{
        color: aliceblue;
      }

      body{
        background-color: rgb(13, 11, 20);
      }
    </style>
    
{{end}}
{{define "centralPart"}}
<div class="container custom-container">
 
  <table class="table-borderless forumTable whiteLink mt-3">
    <thead class="containerHead">
      <tr>
        <!-- Colling Modal -->
        <div class="d-flex justify-content-start align-items-center">
          <button type="button" class="btn btn-light me-2" data-bs-toggle="modal" data-bs-target="#createNewPostModal">Create New Post</button>
        </div>
        <div class="d-flex justify-content-center">
        </div>
        <!-- End -->
        {{/* Info related to the main (mother) Thread */}}
        <th class="forumFirstColTheme" scope="col" colspan="2">
          {{$creatorImage := index .Data "creatorImg"}}
          {{$creatorName := index .Data "creatorName"}}
          {{$creatorID := index .Data "creatorID"}}
          <img src="{{$creatorImage}}" class="ava_img" alt="ava"><br>
          <br><a href="/personal_cabinet?userID={{$creatorID}}"><strong>&nbsp;{{$creatorName}}</strong></a><br>
          Date of Registration:<br>{{index .Data "creatorRegistrationDate"}} <br>
          Total Messages: {{index .Data "creatorPostsAmmount"}}
        </th>
        <!-- Modal starts -->
        <div class="modal fade text-bg-dark p-3" id="createNewPostModal" tabindex="-1" aria-labelledby="createNewPostModalLabel" aria-hidden="true">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <h1 class="modal-title fs-5" id="createNewPostModalLabel">Type your post and click "Post"</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                <form method="post" action="">
                  <div class="mb-3">
                    <label for="post-text" class="col-form-label">Type your topic here:</label>
                    <textarea class="form-control" id="post-text" name="post-text"></textarea>
                  </div>
                  <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="submit" class="btn btn-light">Post</button>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
        <!-- Modal ends -->
        <!-- Topic starts here -->
        <th>
          <div id="mainTheme">
            <h3>Topic:</h3>
            <hr>
            {{index .Data "mainThreadName"}} <br>
            <hr>
            Created: {{index .Data "mainThreadCreatedTime"}}
          </div>

        </th>
        <!-- Topic ends here -->
      </tr>
    </thead>
    <!-- posts start here -->
    <tbody class="containerBody">
      {{$postinfo := index .Data "posts"}}
      {{ range $postinfo }}
      <tr>
        <td>
          <img src="{{ .PictureUserWhoCreatedPost }}" class="ava_img" alt="ava">
          <br><a href="/personal_cabinet?userID={{ .UserIDWhoCreatedPost}}"><strong>&nbsp;{{ .UserNameWhoCreatedPost }}</strong></a><br>
          Date of Registration:<br>{{ .UserRegistrationDate}} <br>
          Total Messages: {{ .UserPostsAmmount}}
        </td>
        <td>
        </td>
        <td>
          <em>{{ .Subject}}</em> <br><br>
          {{ .Content }}&nbsp;

            <form method="POST" action="/edit_topic?postID={{ .ID}}">
              <input type="hidden" name="topic_id" value="{{ .ID }}">
              <button class="btn btn-danger btn-sm" type="submit">Edit / Delete Post</button>
            </form>
          <br>
          Posted: {{ .Created }}<br>
          <div class="d-flex justify-content-start align-items-center">
            <form method="POST" action="">
              <input type="hidden" name="like" value="{{ .ID }}">
              <button type="submit" class="btn btn-success btn-sm mr-2">Like➕&nbsp;{{ .Likes }}</button>
            </form>
            &nbsp;&nbsp;
            <form method="POST" action="">
              <input type="hidden" name="dislike" value="{{ .ID }}">
              <button type="submit" class="btn btn-warning btn-sm">Dislike➖&nbsp;{{ .Dislikes }}</button>
            </form>
          </div>
          <hr>
        </td>
      </tr>
      {{ end }}
      <!-- posts end here -->
    </tbody>
  </table>
</div>
</div>
{{end}}